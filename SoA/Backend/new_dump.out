--
-- PostgreSQL database dump
--

-- Dumped from database version 12.7 (Ubuntu 12.7-0ubuntu0.20.04.1)
-- Dumped by pg_dump version 12.7 (Ubuntu 12.7-0ubuntu0.20.04.1)

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

--
-- Name: pgcrypto; Type: EXTENSION; Schema: -; Owner: -
--

CREATE EXTENSION IF NOT EXISTS pgcrypto WITH SCHEMA public;


--
-- Name: EXTENSION pgcrypto; Type: COMMENT; Schema: -; Owner: 
--

COMMENT ON EXTENSION pgcrypto IS 'cryptographic functions';


SET default_tablespace = '';

SET default_table_access_method = heap;

--
-- Name: answer; Type: TABLE; Schema: public; Owner: typo
--

CREATE TABLE public.answer (
    id integer NOT NULL,
    user_fk integer NOT NULL,
    question_fk integer NOT NULL,
    text character varying(3000) NOT NULL,
    created timestamp without time zone NOT NULL
);


ALTER TABLE public.answer OWNER TO typo;

--
-- Name: answer_id_seq; Type: SEQUENCE; Schema: public; Owner: typo
--

CREATE SEQUENCE public.answer_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.answer_id_seq OWNER TO typo;

--
-- Name: answer_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: typo
--

ALTER SEQUENCE public.answer_id_seq OWNED BY public.answer.id;


--
-- Name: question; Type: TABLE; Schema: public; Owner: typo
--

CREATE TABLE public.question (
    id integer NOT NULL,
    user_fk integer NOT NULL,
    title character varying(255) NOT NULL,
    text character varying(3000) NOT NULL,
    created timestamp without time zone NOT NULL
);


ALTER TABLE public.question OWNER TO typo;

--
-- Name: question_id_seq; Type: SEQUENCE; Schema: public; Owner: typo
--

CREATE SEQUENCE public.question_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.question_id_seq OWNER TO typo;

--
-- Name: question_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: typo
--

ALTER SEQUENCE public.question_id_seq OWNED BY public.question.id;


--
-- Name: question_keyword; Type: TABLE; Schema: public; Owner: typo
--

CREATE TABLE public.question_keyword (
    questionid integer NOT NULL,
    keyword character varying(50) NOT NULL
);


ALTER TABLE public.question_keyword OWNER TO typo;

--
-- Name: user; Type: TABLE; Schema: public; Owner: typo
--

CREATE TABLE public."user" (
    id integer NOT NULL,
    first_name character varying(100) NOT NULL,
    last_name character varying(100) NOT NULL,
    birthday date NOT NULL,
    username character varying(50) NOT NULL,
    email character varying(255),
    password character varying(255) NOT NULL,
    CONSTRAINT user_email_check CHECK (((email)::text ~~ '%___@___%'::text))
);


ALTER TABLE public."user" OWNER TO typo;

--
-- Name: user_id_seq; Type: SEQUENCE; Schema: public; Owner: typo
--

CREATE SEQUENCE public.user_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.user_id_seq OWNER TO typo;

--
-- Name: user_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: typo
--

ALTER SEQUENCE public.user_id_seq OWNED BY public."user".id;


--
-- Name: answer id; Type: DEFAULT; Schema: public; Owner: typo
--

ALTER TABLE ONLY public.answer ALTER COLUMN id SET DEFAULT nextval('public.answer_id_seq'::regclass);


--
-- Name: question id; Type: DEFAULT; Schema: public; Owner: typo
--

ALTER TABLE ONLY public.question ALTER COLUMN id SET DEFAULT nextval('public.question_id_seq'::regclass);


--
-- Name: user id; Type: DEFAULT; Schema: public; Owner: typo
--

ALTER TABLE ONLY public."user" ALTER COLUMN id SET DEFAULT nextval('public.user_id_seq'::regclass);


--
-- Data for Name: answer; Type: TABLE DATA; Schema: public; Owner: typo
--

COPY public.answer (id, user_fk, question_fk, text, created) FROM stdin;
2	2	2	This is an answer	2021-06-30 23:00:00
\.


--
-- Data for Name: question; Type: TABLE DATA; Schema: public; Owner: typo
--

COPY public.question (id, user_fk, title, text, created) FROM stdin;
2	1	Question	This is a question	2021-06-30 23:00:00
\.


--
-- Data for Name: question_keyword; Type: TABLE DATA; Schema: public; Owner: typo
--

COPY public.question_keyword (questionid, keyword) FROM stdin;
\.


--
-- Data for Name: user; Type: TABLE DATA; Schema: public; Owner: typo
--

COPY public."user" (id, first_name, last_name, birthday, username, email, password) FROM stdin;
1	Sotiris	Pallis	1999-03-03	tsotsos	tsotos@tsotso.tsp	$2b$10$D7xI5HQ..4lCJRV6FYV87.OhzfwWN2u.5a2otSOZTy4U4S7Y1V/a.
2	Ntina	Skarifou	1999-05-21	ntinaskarifou	ntinaki@tsourekaki.ska	$2b$10$30BwnRuevRH6i12mfQ.ECOC7K0T04VlJfiFpL6zfeM.AcFD2ZtV0y
\.


--
-- Name: answer_id_seq; Type: SEQUENCE SET; Schema: public; Owner: typo
--

SELECT pg_catalog.setval('public.answer_id_seq', 2, true);


--
-- Name: question_id_seq; Type: SEQUENCE SET; Schema: public; Owner: typo
--

SELECT pg_catalog.setval('public.question_id_seq', 2, true);


--
-- Name: user_id_seq; Type: SEQUENCE SET; Schema: public; Owner: typo
--

SELECT pg_catalog.setval('public.user_id_seq', 2, true);


--
-- Name: answer answer_pkey; Type: CONSTRAINT; Schema: public; Owner: typo
--

ALTER TABLE ONLY public.answer
    ADD CONSTRAINT answer_pkey PRIMARY KEY (id);


--
-- Name: question_keyword question_keyword_pkey; Type: CONSTRAINT; Schema: public; Owner: typo
--

ALTER TABLE ONLY public.question_keyword
    ADD CONSTRAINT question_keyword_pkey PRIMARY KEY (questionid, keyword);


--
-- Name: question question_pkey; Type: CONSTRAINT; Schema: public; Owner: typo
--

ALTER TABLE ONLY public.question
    ADD CONSTRAINT question_pkey PRIMARY KEY (id);


--
-- Name: question question_title_key; Type: CONSTRAINT; Schema: public; Owner: typo
--

ALTER TABLE ONLY public.question
    ADD CONSTRAINT question_title_key UNIQUE (title);


--
-- Name: user user_email_key; Type: CONSTRAINT; Schema: public; Owner: typo
--

ALTER TABLE ONLY public."user"
    ADD CONSTRAINT user_email_key UNIQUE (email);


--
-- Name: user user_pkey; Type: CONSTRAINT; Schema: public; Owner: typo
--

ALTER TABLE ONLY public."user"
    ADD CONSTRAINT user_pkey PRIMARY KEY (id);


--
-- Name: user user_username_key; Type: CONSTRAINT; Schema: public; Owner: typo
--

ALTER TABLE ONLY public."user"
    ADD CONSTRAINT user_username_key UNIQUE (username);


--
-- Name: answer fkanswer312233; Type: FK CONSTRAINT; Schema: public; Owner: typo
--

ALTER TABLE ONLY public.answer
    ADD CONSTRAINT fkanswer312233 FOREIGN KEY (user_fk) REFERENCES public."user"(id);


--
-- Name: answer fkanswer480594; Type: FK CONSTRAINT; Schema: public; Owner: typo
--

ALTER TABLE ONLY public.answer
    ADD CONSTRAINT fkanswer480594 FOREIGN KEY (question_fk) REFERENCES public.question(id);


--
-- Name: question fkquestion251144; Type: FK CONSTRAINT; Schema: public; Owner: typo
--

ALTER TABLE ONLY public.question
    ADD CONSTRAINT fkquestion251144 FOREIGN KEY (user_fk) REFERENCES public."user"(id);


--
-- Name: question_keyword question_keyword_questionid_fkey; Type: FK CONSTRAINT; Schema: public; Owner: typo
--

ALTER TABLE ONLY public.question_keyword
    ADD CONSTRAINT question_keyword_questionid_fkey FOREIGN KEY (questionid) REFERENCES public.question(id);


--
-- PostgreSQL database dump complete
--

